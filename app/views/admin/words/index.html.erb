<% provide :title, t(:words_title) %>
<div class="panel panel-primary">
  <div class="panel-heading">
    <div class="panel-title">
      <div class="row">
        <div class="col-md-2">
          <% unless @previous_category.nil? %>
            <%= link_to admin_category_words_path(@previous_category),
              class: "previous" do %>
              <i class="glyphicon glyphicon-chevron-left">
                <%= t :previous %>
              </i>
            <% end %>
          <% end %>
        </div>
        <div class="col-md-8 text-center">
          <%= @category.name %>
        </div>
        <div class="col-md-2 text-right">
          <% unless @next_category.nil? %>
            <%= link_to admin_category_words_path(@next_category),
              class: "previous" do %>
              <%= t :next %><i class="glyphicon glyphicon-chevron-right"></i>
            <% end %>
          <% end %>
        </div>
      </div>
      <div class="row row-menu">
        <div class="col-md-3">
          <%= link_to "", "data-toggle": "modal",
            "data-target": "#newWordModal", class: "previous link-create" do %>
            <span class="glyphicon glyphicon-plus"></span>
            <%= t :create_word %>
          <% end %>
        </div>
        <div class="col-md-2 col-delete-multiple">
          <%= form_tag admin_category_word_path(@category, 0),
            method: :delete, id: "formDeleteMultipleWord" do %>
            <i class="glyphicon glyphicon-trash"></i>
            <%= link_to "Delete selected", "#",
              id: "btnDeleteMultipleWord", class: "previous" %>
        </div>
      </div>
    </div>
  </div>
  <div class="panel-body">
    <table class="table table-bordered table-hover" id="tableWordResult">
      <tr id="tableHeading">
        <th></th>
        <th class="text-center"><%= t :word %></th>
        <th class="text-center"><%= t :word_answer %></th>
      </tr>

      <% @words.each do |word| %>
        <tr id="<%= word.id %>">
          <td><%= check_box_tag "word_ids[]", word.id, false %></td>
          <%= hidden_field_tag "id", word.id %>
          <td class="text-center" id="content"><%= word.content %></td>
          <td id="answers">
            <ul>
              <% word.word_answers.each_with_index do |word_answer, id| %>
                <li <%= "class=correct_answer value=#{id}" if word_answer
                  .is_correct %>>
                  <%= word_answer.content %>
                </li>
              <% end %>
            </ul>
          </td>
          <td class="text-center">
            <%= link_to [:admin, @category, word], "data-toggle": "tooltip",
              title: t(:edit), "data-toggle": "modal", "data-target":
             "#editWordModal", "data-id": word.id do %>
              <i class="glyphicon glyphicon-pencil"></i>
            <% end %>
          </td>
          <td class="text-center">
            <%= link_to [:admin, @category, word], method: :delete,
              "data-toggle": "tooltip", title: t(:delete),
              data: {confirm: t(:are_you_sure)} do %>
              <i class="glyphicon glyphicon-trash"></i>
            <% end %>
          </td>
        </tr>
      <% end %>
    </table>
  </div>
</div>
<% end %>
<%= will_paginate %>
<div class="modal fade" id="newWordModal" tabindex="-1" role="dialog"
  aria-labelledby="newWordModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title" id="newWordModalLabel">
          <%= t :create_word %>
        </h4>
      </div>
      <div class="modal-body">
        <%= render "create_form", buttonLabel: t(:create_word), modal: true %>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="editWordModal" tabindex="-1" role="dialog"
  aria-labelledby="editWordModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title" id="editWordModalLabel">
          <%= t :edit_word %>
        </h4>
      </div>
      <div class="modal-body">
        <%= render "create_form", buttonLabel: t(:update_button),
          modal: true %>
      </div>
    </div>
  </div>
</div>
